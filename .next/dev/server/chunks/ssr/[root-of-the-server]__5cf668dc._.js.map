{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/src/auth/AuthProvider.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AuthProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/frontend/src/auth/AuthProvider.tsx <module evaluation>\",\n    \"AuthProvider\",\n);\nexport const useAuth = registerClientReference(\n    function() { throw new Error(\"Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/frontend/src/auth/AuthProvider.tsx <module evaluation>\",\n    \"useAuth\",\n);\n"],"names":[],"mappings":";;;;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,oRAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,oEACA;AAEG,MAAM,UAAU,IAAA,oRAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,oEACA","ignoreList":[0]}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/src/auth/AuthProvider.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AuthProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/frontend/src/auth/AuthProvider.tsx\",\n    \"AuthProvider\",\n);\nexport const useAuth = registerClientReference(\n    function() { throw new Error(\"Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/frontend/src/auth/AuthProvider.tsx\",\n    \"useAuth\",\n);\n"],"names":[],"mappings":";;;;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,oRAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,gDACA;AAEG,MAAM,UAAU,IAAA,oRAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,gDACA","ignoreList":[0]}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/src/routes/ProtectedRoute.tsx"],"sourcesContent":["// src/routes/ProtectedRoute.tsx\r\nimport { useAuth } from '../auth/AuthProvider';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect } from 'react';\r\n\r\ntype ProtectedRouteProps = {\r\n  children: React.ReactNode;\r\n  role?: 'ADMIN' | 'USER'; // if provided, restrict to this role\r\n};\r\n\r\nexport default function ProtectedRoute({ children, role }: ProtectedRouteProps) {\r\n  const { user, loading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      if (!user) {\r\n        router.replace('/login');\r\n      } else if (role && user.role !== role) {\r\n        router.replace('/no-access');\r\n      }\r\n    }\r\n  }, [user, loading, role, router]);\r\n\r\n  if (loading || !user || (role && user.role !== role)) {\r\n    return <div className=\"flex items-center justify-center h-full text-lg\">Loading...</div>;\r\n  }\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA,gCAAgC;AAChC;AACA;AAAA;AACA;;;;;AAOe,SAAS,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAuB;IAC5E,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,mJAAO;IACjC,MAAM,SAAS,IAAA,8MAAS;IAExB,IAAA,8NAAS,EAAC;QACR,IAAI,CAAC,SAAS;YACZ,IAAI,CAAC,MAAM;gBACT,OAAO,OAAO,CAAC;YACjB,OAAO,IAAI,QAAQ,KAAK,IAAI,KAAK,MAAM;gBACrC,OAAO,OAAO,CAAC;YACjB;QACF;IACF,GAAG;QAAC;QAAM;QAAS;QAAM;KAAO;IAEhC,IAAI,WAAW,CAAC,QAAS,QAAQ,KAAK,IAAI,KAAK,MAAO;QACpD,qBAAO,0PAAC;YAAI,WAAU;sBAAkD;;;;;;IAC1E;IACA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/app/%28admin%29/page.tsx"],"sourcesContent":["import ProtectedRoute from '../../src/routes/ProtectedRoute';\r\n\r\nfunction AdminPageContent() {\r\n  return (\r\n    <div>\r\n      <h1>Admin</h1>\r\n      <div>Admin-only views (users, time, reports) will appear here.</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function AdminPage() {\r\n  return (\r\n    <ProtectedRoute role=\"ADMIN\">\r\n      <AdminPageContent />\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS;IACP,qBACE,0PAAC;;0BACC,0PAAC;0BAAG;;;;;;0BACJ,0PAAC;0BAAI;;;;;;;;;;;;AAGX;AAEe,SAAS;IACtB,qBACE,0PAAC,uJAAc;QAAC,MAAK;kBACnB,cAAA,0PAAC;;;;;;;;;;AAGP"}}]
}