{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/components/tables/TasksTable.tsx"],"sourcesContent":["\r\n\"use client\";\r\nimport { useEffect, useState } from 'react';\r\nimport { Box, Flex, Heading, VStack, Text, Tag, Avatar, Spinner } from '@chakra-ui/react';\r\nimport { DragDropContext, Droppable, Draggable } from '@hello-pangea/dnd';\r\nimport Link from 'next/link';\r\n\r\nconst statusColumns = [\r\n  { key: 'OPEN', label: 'To Do', color: 'gray' },\r\n  { key: 'IN_PROGRESS', label: 'In Progress', color: 'blue' },\r\n  { key: 'DONE', label: 'Done', color: 'green' },\r\n];\r\n\r\nexport default function TasksTable() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  // Fetch tasks\r\n  const fetchTasks = () => {\r\n    fetch('/api/tasks')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (Array.isArray(data)) {\r\n          setTasks(data);\r\n        } else if (data && Array.isArray(data.tasks)) {\r\n          setTasks(data.tasks);\r\n        } else {\r\n          setTasks([]);\r\n        }\r\n        setLoading(false);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  // Mobile detection (SSR-safe)\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      const mq = window.matchMedia('(max-width: 700px)');\r\n      setIsMobile(mq.matches);\r\n      const handler = (e: MediaQueryListEvent) => setIsMobile(e.matches);\r\n      mq.addEventListener('change', handler);\r\n      return () => mq.removeEventListener('change', handler);\r\n    }\r\n  }, []);\r\n\r\n  if (loading) return <Flex justify=\"center\" align=\"center\" minH=\"200px\"><Spinner size=\"lg\" /></Flex>;\r\n\r\n  // Group tasks by status for columns\r\n  const tasksByStatus: Record<string, any[]> = {};\r\n  statusColumns.forEach(col => {\r\n    tasksByStatus[col.key] = tasks.filter((t: any) => t.status === col.key);\r\n  });\r\n\r\n  // Kanban drag logic\r\n  const onDragEnd = async (result: any) => {\r\n    const { source, destination, draggableId } = result;\r\n    if (!destination || source.droppableId === destination.droppableId) return;\r\n    const taskId = draggableId;\r\n    const newStatus = destination.droppableId;\r\n    setTasks(prev => prev.map((t: any) => t.id === taskId ? { ...t, status: newStatus } : t));\r\n    await fetch(`/api/tasks/${taskId}/status`, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ status: newStatus })\r\n    });\r\n    fetchTasks();\r\n  };\r\n\r\n  // Render mobile: tasks grouped by status, each group in a box with status label\r\n  if (isMobile) {\r\n    return (\r\n      <Box px={2} py={2}>\r\n        {statusColumns.map(col => (\r\n          <Box key={col.key} mb={4} className=\"tasks-mobile-status-group\" bg=\"#f8f9fb\" borderRadius=\"lg\" p={2}>\r\n            <Text fontWeight=\"bold\" fontSize=\"lg\" color={col.color + \".600\"} mb={2} ml={1}>{col.label}</Text>\r\n            {tasksByStatus[col.key].length === 0 ? (\r\n              <Text color=\"gray.400\" fontSize=\"md\" ml={2}>No tasks</Text>\r\n            ) : (\r\n              tasksByStatus[col.key].map((t: any) => (\r\n                <Link key={t.id} href={`/tasks/${t.id}`} style={{ textDecoration: 'none' }}>\r\n                  <Box bg=\"#fff\" borderRadius=\"md\" p={4} boxShadow=\"sm\" mb={3} _hover={{ boxShadow: 'lg', bg: '#f0f4ff' }} transition=\"all 0.2s\">\r\n                    <Flex align=\"center\" justify=\"space-between\" mb={2}>\r\n                      <Text fontWeight=\"bold\" fontSize=\"md\">{t.title}</Text>\r\n                      <Tag colorScheme={col.color} size=\"sm\">{t.priority}</Tag>\r\n                    </Flex>\r\n                    <Flex align=\"center\" gap={2} fontSize=\"sm\" color=\"gray.600\">\r\n                      <Avatar size=\"xs\" name={t.assigneeName || t.assignedToUserId || 'Unassigned'} />\r\n                      <Text>{t.assigneeName || t.assignedToUserId || 'Unassigned'}</Text>\r\n                      {t.dueDate && <Text ml={2}>Due: {new Date(t.dueDate).toLocaleDateString()}</Text>}\r\n                    </Flex>\r\n                  </Box>\r\n                </Link>\r\n              ))\r\n            )}\r\n          </Box>\r\n        ))}\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  // Render Kanban board for desktop\r\n  return (\r\n    <DragDropContext onDragEnd={onDragEnd}>\r\n      <Flex gap={6} overflowX={{ base: 'auto', md: 'visible' }} py={4}>\r\n        {statusColumns.map(col => (\r\n          <Droppable droppableId={col.key} key={col.key}>\r\n            {(provided, snapshot) => (\r\n              <Box\r\n                ref={provided.innerRef}\r\n                {...provided.droppableProps}\r\n                bg={snapshot.isDraggingOver ? '#e3e9f7' : '#f7f8fa'}\r\n                borderRadius=\"lg\"\r\n                minW=\"320px\"\r\n                p={4}\r\n                boxShadow=\"md\"\r\n                flex={1}\r\n              >\r\n                <Heading size=\"md\" mb={4} color={col.color + '.600'}>{col.label}</Heading>\r\n                <VStack align=\"stretch\" spacing={4} minH=\"80px\">\r\n                  {tasksByStatus[col.key].length === 0 && (\r\n                    <Text color=\"gray.400\" fontSize=\"sm\">No tasks</Text>\r\n                  )}\r\n                  {tasksByStatus[col.key].map((t: any, idx: number) => (\r\n                    <Draggable draggableId={t.id} index={idx} key={t.id}>\r\n                      {(provided, snapshot) => (\r\n                        <div\r\n                          ref={provided.innerRef}\r\n                          {...provided.draggableProps}\r\n                          {...provided.dragHandleProps}\r\n                          style={{\r\n                            ...provided.draggableProps.style,\r\n                            opacity: snapshot.isDragging ? 0.7 : 1,\r\n                          }}\r\n                        >\r\n                          <Link href={`/tasks/${t.id}`} style={{ textDecoration: 'none' }}>\r\n                            <Box bg=\"#fff\" borderRadius=\"md\" p={4} boxShadow=\"sm\" _hover={{ boxShadow: 'lg', bg: '#f0f4ff' }} transition=\"all 0.2s\">\r\n                              <Flex align=\"center\" justify=\"space-between\" mb={2}>\r\n                                <Text fontWeight=\"bold\" fontSize=\"md\">{t.title}</Text>\r\n                                <Tag colorScheme={col.color} size=\"sm\">{t.priority}</Tag>\r\n                              </Flex>\r\n                              <Flex align=\"center\" gap={2} fontSize=\"sm\" color=\"gray.600\">\r\n                                <Avatar size=\"xs\" name={t.assigneeName || t.assignedToUserId || 'Unassigned'} />\r\n                                <Text>{t.assigneeName || t.assignedToUserId || 'Unassigned'}</Text>\r\n                                {t.dueDate && <Text ml={2}>Due: {new Date(t.dueDate).toLocaleDateString()}</Text>}\r\n                              </Flex>\r\n                            </Box>\r\n                          </Link>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  ))}\r\n                  {provided.placeholder}\r\n                </VStack>\r\n              </Box>\r\n            )}\r\n          </Droppable>\r\n        ))}\r\n      </Flex>\r\n    </DragDropContext>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/app/%28app%29/tasks/page.tsx"],"sourcesContent":["\"use client\";\r\nimport TasksTable from '../../../components/tables/TasksTable';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Modal, ModalOverlay, ModalContent, ModalHeader, ModalFooter, ModalBody, ModalCloseButton, Button, FormControl, FormLabel, Input, Select, Textarea, useDisclosure, Spinner } from '@chakra-ui/react';\r\n\r\nexport default function TasksPage() {\r\n  const { isOpen, onOpen, onClose } = useDisclosure();\r\n  const [form, setForm] = useState({\r\n    title: '',\r\n    description: '',\r\n    status: 'OPEN',\r\n    priority: 'LOW',\r\n    dueDate: '',\r\n    assignedToUserId: '',\r\n    accountId: '',\r\n    contactId: '',\r\n    dealId: '',\r\n  });\r\n  const [users, setUsers] = useState<{ id: string; name?: string; email?: string }[]>([]);\r\n  const [accounts, setAccounts] = useState<{ id: string; name: string }[]>([]);\r\n  const [contacts, setContacts] = useState<{ id: string; name: string }[]>([]);\r\n  const [deals, setDeals] = useState<{ id: string; name: string }[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [refreshKey, setRefreshKey] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      fetch('/api/users').then(res => res.json()).then(setUsers);\r\n      fetch('/api/accounts').then(res => res.json()).then(setAccounts);\r\n      fetch('/api/contacts').then(res => res.json()).then(setContacts);\r\n      fetch('/api/deals').then(res => res.json()).then(setDeals);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm(f => ({ ...f, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    // You may want to get the current user from context/auth for createdByUserId\r\n    let createdByUserId = users[0]?.id || '';\r\n    try {\r\n      const res = await fetch('/api/tasks', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ ...form, createdByUserId }),\r\n      });\r\n      if (res.ok) {\r\n        setForm({ title: '', description: '', status: 'OPEN', priority: 'LOW', dueDate: '', assignedToUserId: '', accountId: '', contactId: '', dealId: '' });\r\n        onClose();\r\n        setRefreshKey(k => k + 1);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"tasks-page-main-container\">\r\n      <div className=\"tasks-header-row tasks-header-mobile\">\r\n        <h1 className=\"tasks-title tasks-title-mobile\">Tasks</h1>\r\n        <Button colorScheme=\"blue\" size=\"lg\" className=\"tasks-new-btn-mobile\" onClick={onOpen}>+ New Task</Button>\r\n      </div>\r\n      <div style={{ background: '#fff', borderRadius: 8, padding: 24 }}>\r\n        <TasksTable key={refreshKey} />\r\n      </div>\r\n      <Modal isOpen={isOpen} onClose={onClose} size=\"lg\">\r\n        <ModalOverlay />\r\n        <ModalContent>\r\n          <ModalHeader>New Task</ModalHeader>\r\n          <ModalCloseButton />\r\n          <form onSubmit={handleSubmit}>\r\n            <ModalBody pb={6}>\r\n              <FormControl isRequired mb={3}>\r\n                <FormLabel>Title</FormLabel>\r\n                <Input name=\"title\" value={form.title} onChange={handleChange} />\r\n              </FormControl>\r\n              <FormControl mb={3}>\r\n                <FormLabel>Description</FormLabel>\r\n                <Textarea name=\"description\" value={form.description} onChange={handleChange} />\r\n              </FormControl>\r\n              <FormControl mb={3}>\r\n                <FormLabel>Status</FormLabel>\r\n                <Select name=\"status\" value={form.status} onChange={handleChange}>\r\n                  <option value=\"OPEN\">To Do</option>\r\n                  <option value=\"IN_PROGRESS\">In Progress</option>\r\n                  <option value=\"DONE\">Done</option>\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl mb={3}>\r\n                <FormLabel>Priority</FormLabel>\r\n                <Select name=\"priority\" value={form.priority} onChange={handleChange}>\r\n                  <option value=\"LOW\">Low</option>\r\n                  <option value=\"MEDIUM\">Medium</option>\r\n                  <option value=\"HIGH\">High</option>\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl mb={3}>\r\n                <FormLabel>Due Date</FormLabel>\r\n                <Input name=\"dueDate\" type=\"date\" value={form.dueDate} onChange={handleChange} />\r\n              </FormControl>\r\n              <FormControl mb={3}>\r\n                <FormLabel>Assignee</FormLabel>\r\n                <Select name=\"assignedToUserId\" value={form.assignedToUserId} onChange={handleChange} placeholder=\"Unassigned\">\r\n                  {users.map((u) => <option key={u.id} value={u.id}>{u.name || u.email}</option>)}\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl mb={3}>\r\n                <FormLabel>Account</FormLabel>\r\n                <Select name=\"accountId\" value={form.accountId} onChange={handleChange} placeholder=\"None\">\r\n                  {accounts.map((a) => <option key={a.id} value={a.id}>{a.name}</option>)}\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl mb={3}>\r\n                <FormLabel>Contact</FormLabel>\r\n                <Select name=\"contactId\" value={form.contactId} onChange={handleChange} placeholder=\"None\">\r\n                  {contacts.map((c) => <option key={c.id} value={c.id}>{c.name}</option>)}\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl mb={3}>\r\n                <FormLabel>Deal</FormLabel>\r\n                <Select name=\"dealId\" value={form.dealId} onChange={handleChange} placeholder=\"None\">\r\n                  {deals.map((d) => <option key={d.id} value={d.id}>{d.name}</option>)}\r\n                </Select>\r\n              </FormControl>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <Button colorScheme=\"blue\" mr={3} type=\"submit\" isLoading={loading}>Create</Button>\r\n              <Button onClick={onClose}>Cancel</Button>\r\n            </ModalFooter>\r\n          </form>\r\n        </ModalContent>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}