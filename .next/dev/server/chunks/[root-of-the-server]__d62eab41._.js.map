{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/proxy.ts"],"sourcesContent":["\r\n\r\nimport { NextResponse } from 'next/server';\r\nimport type { NextRequest } from 'next/server';\r\n\r\nconst backendUrl = 'http://localhost:3001'; // Change if your backend runs elsewhere\r\n\r\nexport async function proxy(request: NextRequest) {\r\n  const { pathname } = request.nextUrl;\r\n  if (pathname.startsWith('/auth/')) {\r\n    const url = backendUrl + pathname;\r\n    const reqHeaders = {};\r\n    request.headers.forEach((value, key) => {\r\n      reqHeaders[key] = value;\r\n    });\r\n    const fetchOptions: RequestInit = {\r\n      method: request.method,\r\n      headers: reqHeaders,\r\n      redirect: 'manual' as RequestRedirect,\r\n    };\r\n    // Only add body for methods that can have a body\r\n    if ([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(request.method)) {\r\n      // Read body as text and forward\r\n      fetchOptions.body = await request.text();\r\n    }\r\n    const res = await fetch(url, fetchOptions);\r\n    const response = new NextResponse(res.body, {\r\n      status: res.status,\r\n      headers: res.headers,\r\n    });\r\n    return response;\r\n  }\r\n  return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n  matcher: ['/auth/:path*'],\r\n};\r\n"],"names":[],"mappings":";;;;;;AAEA;;AAGA,MAAM,aAAa,yBAAyB,wCAAwC;AAE7E,eAAe,MAAM,OAAoB;IAC9C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IACpC,IAAI,SAAS,UAAU,CAAC,WAAW;QACjC,MAAM,MAAM,aAAa;QACzB,MAAM,aAAa,CAAC;QACpB,QAAQ,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO;YAC9B,UAAU,CAAC,IAAI,GAAG;QACpB;QACA,MAAM,eAA4B;YAChC,QAAQ,QAAQ,MAAM;YACtB,SAAS;YACT,UAAU;QACZ;QACA,iDAAiD;QACjD,IAAI;YAAC;YAAQ;YAAO;YAAS;SAAS,CAAC,QAAQ,CAAC,QAAQ,MAAM,GAAG;YAC/D,gCAAgC;YAChC,aAAa,IAAI,GAAG,MAAM,QAAQ,IAAI;QACxC;QACA,MAAM,MAAM,MAAM,MAAM,KAAK;QAC7B,MAAM,WAAW,IAAI,0JAAY,CAAC,IAAI,IAAI,EAAE;YAC1C,QAAQ,IAAI,MAAM;YAClB,SAAS,IAAI,OAAO;QACtB;QACA,OAAO;IACT;IACA,OAAO,0JAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAe;AAC3B"}}]
}