{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/src/auth/tokenStore.ts"],"sourcesContent":["// src/auth/tokenStore.ts\r\n// In-memory access token store (never trust localStorage for security)\r\nlet accessToken: string | null = null;\r\n\r\nexport function getAccessToken() {\r\n  return accessToken;\r\n}\r\n\r\nexport function setAccessToken(token: string) {\r\n  accessToken = token;\r\n}\r\n\r\nexport function clearAccessToken() {\r\n  accessToken = null;\r\n}\r\n\r\n// If you must use localStorage (fallback), wrap with clear comments and centralize logic here.\r\nexport function loadTokenFromStorage() {\r\n  if (typeof window !== 'undefined') {\r\n    accessToken = localStorage.getItem('accessToken');\r\n  }\r\n}\r\n\r\nexport function saveTokenToStorage() {\r\n  if (typeof window !== 'undefined' && accessToken) {\r\n    localStorage.setItem('accessToken', accessToken);\r\n  }\r\n}\r\n\r\nexport function clearTokenFromStorage() {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('accessToken');\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,yBAAyB;AACzB,uEAAuE;AACvE,IAAI,cAA6B;AAE1B,SAAS;IACd,OAAO;AACT;AAEO,SAAS,eAAe,KAAa;IAC1C,cAAc;AAChB;AAEO,SAAS;IACd,cAAc;AAChB;AAGO,SAAS;IACd,wCAAmC;QACjC,cAAc,aAAa,OAAO,CAAC;IACrC;AACF;AAEO,SAAS;IACd,IAAI,+CAAkB,eAAe,aAAa;QAChD,aAAa,OAAO,CAAC,eAAe;IACtC;AACF;AAEO,SAAS;IACd,wCAAmC;QACjC,aAAa,UAAU,CAAC;IAC1B;AACF"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/src/api/client.ts"],"sourcesContent":["// src/api/client.ts\r\nimport { getAccessToken, setAccessToken, clearAccessToken } from '../auth/tokenStore';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\nexport type ApiError = {\r\n  status: number;\r\n  message: string;\r\n};\r\n\r\nasync function fetchWithAuth(input: RequestInfo, init: RequestInit = {}, retry = true): Promise<any> {\r\n  let token = getAccessToken();\r\n  const headers = new Headers(init.headers || {});\r\n  if (token) headers.set('Authorization', `Bearer ${token}`);\r\n  let res = await fetch(`${API_BASE_URL}${input}`, { ...init, headers, credentials: 'include' });\r\n  if (res.status === 401 && retry) {\r\n    // Try refresh\r\n    const refreshed = await refreshToken();\r\n    if (refreshed) {\r\n      token = getAccessToken();\r\n      headers.set('Authorization', `Bearer ${token}`);\r\n      res = await fetch(`${API_BASE_URL}${input}`, { ...init, headers, credentials: 'include' });\r\n    } else {\r\n      clearAccessToken();\r\n      throw { status: 401, message: 'Session expired' };\r\n    }\r\n  }\r\n  if (!res.ok) {\r\n    let message = 'Unknown error';\r\n    try { message = (await res.json()).message || message; } catch {}\r\n    throw { status: res.status, message };\r\n  }\r\n  if (res.status === 204) return null;\r\n  return res.json();\r\n}\r\n\r\nasync function refreshToken(): Promise<boolean> {\r\n  try {\r\n    const res = await fetch(`${API_BASE_URL}/auth/refresh`, { method: 'POST', credentials: 'include' });\r\n    if (!res.ok) return false;\r\n    const data = await res.json();\r\n    if (data.accessToken) {\r\n      setAccessToken(data.accessToken);\r\n      return true;\r\n    }\r\n    return false;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const api = {\r\n  get: (url: string) => fetchWithAuth(url, { method: 'GET' }),\r\n  post: (url: string, body?: any) => fetchWithAuth(url, { method: 'POST', body: JSON.stringify(body), headers: { 'Content-Type': 'application/json' } }),\r\n  patch: (url: string, body?: any) => fetchWithAuth(url, { method: 'PATCH', body: JSON.stringify(body), headers: { 'Content-Type': 'application/json' } }),\r\n  delete: (url: string) => fetchWithAuth(url, { method: 'DELETE' }),\r\n};\r\n\r\n// Typed helpers (example)\r\nexport async function login(email: string, password: string) {\r\n  return api.post('/auth/login', { email, password });\r\n}\r\n\r\nexport async function getMe() {\r\n  return api.get('/users/me');\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAGqB;AAHrB,oBAAoB;AACpB;;AAEA,MAAM,eAAe,uLAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAOxD,eAAe,cAAc,KAAkB,EAAE,OAAoB,CAAC,CAAC,EAAE,QAAQ,IAAI;IACnF,IAAI,QAAQ,IAAA,0JAAc;IAC1B,MAAM,UAAU,IAAI,QAAQ,KAAK,OAAO,IAAI,CAAC;IAC7C,IAAI,OAAO,QAAQ,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO;IACzD,IAAI,MAAM,MAAM,MAAM,GAAG,eAAe,OAAO,EAAE;QAAE,GAAG,IAAI;QAAE;QAAS,aAAa;IAAU;IAC5F,IAAI,IAAI,MAAM,KAAK,OAAO,OAAO;QAC/B,cAAc;QACd,MAAM,YAAY,MAAM;QACxB,IAAI,WAAW;YACb,QAAQ,IAAA,0JAAc;YACtB,QAAQ,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO;YAC9C,MAAM,MAAM,MAAM,GAAG,eAAe,OAAO,EAAE;gBAAE,GAAG,IAAI;gBAAE;gBAAS,aAAa;YAAU;QAC1F,OAAO;YACL,IAAA,4JAAgB;YAChB,MAAM;gBAAE,QAAQ;gBAAK,SAAS;YAAkB;QAClD;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI,UAAU;QACd,IAAI;YAAE,UAAU,CAAC,MAAM,IAAI,IAAI,EAAE,EAAE,OAAO,IAAI;QAAS,EAAE,OAAM,CAAC;QAChE,MAAM;YAAE,QAAQ,IAAI,MAAM;YAAE;QAAQ;IACtC;IACA,IAAI,IAAI,MAAM,KAAK,KAAK,OAAO;IAC/B,OAAO,IAAI,IAAI;AACjB;AAEA,eAAe;IACb,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,GAAG,aAAa,aAAa,CAAC,EAAE;YAAE,QAAQ;YAAQ,aAAa;QAAU;QACjG,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QACpB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,KAAK,WAAW,EAAE;YACpB,IAAA,0JAAc,EAAC,KAAK,WAAW;YAC/B,OAAO;QACT;QACA,OAAO;IACT,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,MAAM,MAAM;IACjB,KAAK,CAAC,MAAgB,cAAc,KAAK;YAAE,QAAQ;QAAM;IACzD,MAAM,CAAC,KAAa,OAAe,cAAc,KAAK;YAAE,QAAQ;YAAQ,MAAM,KAAK,SAAS,CAAC;YAAO,SAAS;gBAAE,gBAAgB;YAAmB;QAAE;IACpJ,OAAO,CAAC,KAAa,OAAe,cAAc,KAAK;YAAE,QAAQ;YAAS,MAAM,KAAK,SAAS,CAAC;YAAO,SAAS;gBAAE,gBAAgB;YAAmB;QAAE;IACtJ,QAAQ,CAAC,MAAgB,cAAc,KAAK;YAAE,QAAQ;QAAS;AACjE;AAGO,eAAe,MAAM,KAAa,EAAE,QAAgB;IACzD,OAAO,IAAI,IAAI,CAAC,eAAe;QAAE;QAAO;IAAS;AACnD;AAEO,eAAe;IACpB,OAAO,IAAI,GAAG,CAAC;AACjB"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/components/activity/ActivityLog.tsx"],"sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\n\r\ninterface Activity {\r\n  id: string;\r\n  actorUserId: string;\r\n  actorName?: string;\r\n  actorAvatarUrl?: string;\r\n  entityType: string;\r\n  entityId: string;\r\n  action: string;\r\n  type?: string;\r\n  environment?: string;\r\n  payloadJson?: any;\r\n  createdAt: string;\r\n}\r\n\r\nconst ACTION_COLORS: Record<string, string> = {\r\n  CREATE: '#22c55e',\r\n  UPDATE: '#2563eb',\r\n  DELETE: '#ef4444',\r\n  COMMENT: '#a855f7',\r\n  DEFAULT: '#64748b',\r\n};\r\n\r\nexport default function ActivityLog({ accountId, onClose }: { accountId: string, onClose: () => void }) {\r\n  const [activities, setActivities] = useState<Activity[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetch(`/api/activity?entityType=Account&entityId=${accountId}`)\r\n      .then(async res => {\r\n        try {\r\n          const data = await res.json();\r\n          setActivities(Array.isArray(data) ? data : []);\r\n        } catch {\r\n          setActivities([]);\r\n        }\r\n        setLoading(false);\r\n      });\r\n  }, [accountId]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', maxWidth: 900, background: '#fff', borderRadius: 12, border: '1px solid #e5e7eb', boxShadow: 'none', padding: 24, margin: '0 auto' }}>\r\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: 16 }}>\r\n        <h2 style={{ fontSize: 18, fontWeight: 700, color: '#23272f', margin: 0 }}>Audit Logs</h2>\r\n        <button onClick={onClose} style={{ background: 'none', border: 'none', fontSize: 20, cursor: 'pointer', color: '#64748b' }}>√ó</button>\r\n      </div>\r\n      <div style={{ fontSize: 13, color: '#64748b', marginBottom: 18 }}>Monitor key changes and comments for this account.</div>\r\n      {loading ? (\r\n        <div style={{ padding: 32, textAlign: 'center', color: '#888' }}>Loading...</div>\r\n      ) : (\r\n        <div style={{ overflowX: 'auto' }}>\r\n          <table style={{ width: '100%', borderCollapse: 'separate', borderSpacing: 0, fontSize: 13, background: '#fff' }}>\r\n            <thead>\r\n              <tr style={{ background: '#f8fafc', color: '#23272f', fontWeight: 600 }}>\r\n                <th style={{ padding: '12px 8px', textAlign: 'left', borderTopLeftRadius: 8 }}>User</th>\r\n                <th style={{ padding: '12px 8px', textAlign: 'left' }}>Action</th>\r\n                <th style={{ padding: '12px 8px', textAlign: 'left' }}>Type</th>\r\n                <th style={{ padding: '12px 8px', textAlign: 'left' }}>Environment</th>\r\n                <th style={{ padding: '12px 8px', textAlign: 'left' }}>Details</th>\r\n                <th style={{ padding: '12px 8px', textAlign: 'left', borderTopRightRadius: 8 }}>Date</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {activities.length === 0 ? (\r\n                <tr><td colSpan={6} style={{ padding: 32, textAlign: 'center', color: '#888' }}>No activity found.</td></tr>\r\n              ) : (\r\n                activities.map(act => (\r\n                  <tr key={act.id} style={{ borderBottom: '1px solid #f0f0f0', transition: 'background 0.2s' }}>\r\n                    <td style={{ padding: '10px 8px', display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                      <img src={act.actorAvatarUrl || '/avatar.svg'} alt=\"avatar\" style={{ width: 28, height: 28, borderRadius: '50%', objectFit: 'cover', background: '#f3f4f6' }} />\r\n                      <span style={{ fontWeight: 500 }}>{act.actorName || act.actorUserId}</span>\r\n                    </td>\r\n                    <td style={{ padding: '10px 8px', fontWeight: 600, color: ACTION_COLORS[act.action] || ACTION_COLORS.DEFAULT }}>{act.action}</td>\r\n                    <td style={{ padding: '10px 8px', color: '#64748b' }}>{act.type || '-'}</td>\r\n                    <td style={{ padding: '10px 8px', color: '#64748b' }}>{act.environment || '-'}</td>\r\n                    <td style={{ padding: '10px 8px', color: '#23272f', fontFamily: 'monospace', fontSize: 12, maxWidth: 220, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{act.payloadJson ? JSON.stringify(act.payloadJson) : '-'}</td>\r\n                    <td style={{ padding: '10px 8px', color: '#64748b' }}>{new Date(act.createdAt).toLocaleDateString()}</td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/components/ui/Modal.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function Modal({ open, onClose, title, children }: {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  if (!open) return null;\r\n  return (\r\n    <div style={{\r\n      position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh',\r\n      background: 'rgba(0,0,0,0.3)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000\r\n    }}>\r\n      <div style={{ background: '#fff', borderRadius: 8, minWidth: 400, padding: 32, position: 'relative' }}>\r\n        <button onClick={onClose} style={{ position: 'absolute', top: 12, right: 12, background: 'none', border: 'none', fontSize: 20, cursor: 'pointer' }}>√ó</button>\r\n        <h2 style={{ marginBottom: 24 }}>{title}</h2>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEe,SAAS,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAK7D;IACC,IAAI,CAAC,MAAM,OAAO;IAClB,qBACE,yMAAC;QAAI,OAAO;YACV,UAAU;YAAS,KAAK;YAAG,MAAM;YAAG,OAAO;YAAS,QAAQ;YAC5D,YAAY;YAAmB,SAAS;YAAQ,YAAY;YAAU,gBAAgB;YAAU,QAAQ;QAC1G;kBACE,cAAA,yMAAC;YAAI,OAAO;gBAAE,YAAY;gBAAQ,cAAc;gBAAG,UAAU;gBAAK,SAAS;gBAAI,UAAU;YAAW;;8BAClG,yMAAC;oBAAO,SAAS;oBAAS,OAAO;wBAAE,UAAU;wBAAY,KAAK;wBAAI,OAAO;wBAAI,YAAY;wBAAQ,QAAQ;wBAAQ,UAAU;wBAAI,QAAQ;oBAAU;8BAAG;;;;;;8BACpJ,yMAAC;oBAAG,OAAO;wBAAE,cAAc;oBAAG;8BAAI;;;;;;gBACjC;;;;;;;;;;;;AAIT;KAnBwB"}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/components/forms/AccountEditForm.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from 'react';\r\n\r\nexport default function AccountEditForm({ initialData, onSubmit, onCancel }: {\r\n  initialData: any;\r\n  onSubmit: (data: any) => void;\r\n  onCancel: () => void;\r\n}) {\r\n  const [name, setName] = useState(initialData?.name || '');\r\n  const [type, setType] = useState(initialData?.type || 'Client');\r\n  const [address, setAddress] = useState(initialData?.address || '');\r\n  const [phone, setPhone] = useState(initialData?.phone || '');\r\n  const [email, setEmail] = useState(initialData?.email || '');\r\n  const [notes, setNotes] = useState(initialData?.notes || '');\r\n\r\n  return (\r\n    <form onSubmit={e => { e.preventDefault(); onSubmit({ name, type, address, phone, email, notes }); }}>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Name</label><br />\r\n        <input value={name} onChange={e => setName(e.target.value)} required style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Type</label><br />\r\n        <select value={type} onChange={e => setType(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }}>\r\n          <option value=\"Client\">Client</option>\r\n          <option value=\"Partner\">Partner</option>\r\n          <option value=\"Potential Client\">Potential Client</option>\r\n        </select>\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Address</label><br />\r\n        <input value={address} onChange={e => setAddress(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Phone</label><br />\r\n        <input value={phone} onChange={e => setPhone(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Email</label><br />\r\n        <input type=\"email\" value={email} onChange={e => setEmail(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Notes</label><br />\r\n        <textarea value={notes} onChange={e => setNotes(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ display: 'flex', gap: 12, justifyContent: 'flex-end' }}>\r\n        <button type=\"button\" onClick={onCancel} style={{ background: '#eee', color: '#333', border: 'none', borderRadius: 6, padding: '8px 20px', fontWeight: 600, cursor: 'pointer' }}>Cancel</button>\r\n        <button type=\"submit\" style={{ background: '#0052cc', color: '#fff', border: 'none', borderRadius: 6, padding: '8px 20px', fontWeight: 600, cursor: 'pointer' }}>Save</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 968, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/components/tables/AccountsTable.tsx"],"sourcesContent":["// Account type definition\r\n\"use client\";\r\n\r\nexport interface Account {\r\n  id: string;\r\n  name: string;\r\n  type: string;\r\n  ownerUserId?: string;\r\n  createdAt: string;\r\n  updatedAt?: string;\r\n  email?: string;\r\n  notes?: string;\r\n  address?: string;\r\n  phone?: string;\r\n  tags?: string[];\r\n  status?: string;\r\n}\r\n\r\nimport { FiEdit2, FiTrash2, FiActivity } from 'react-icons/fi';\r\nimport { api } from '../../src/api/client';\r\n\r\n// Inline editable account card\r\nfunction InlineEditableAccountCard({ acc, selected, onSelect, onEdit, getTags, handleEdit, handleDelete, onShowActivity }: any) {\r\n  const [editing, setEditing] = useState(false);\r\n  const [name, setName] = useState(acc.name);\r\n  const [notes, setNotes] = useState(acc.notes || \"\");\r\n  const router = require('next/navigation').useRouter ? require('next/navigation').useRouter() : null;\r\n  const handleCardClick = (e: React.MouseEvent) => {\r\n    // Prevent navigation if editing or clicking a button\r\n    if (editing) return;\r\n    // Don't navigate if the click target is a button or inside a button\r\n    if ((e.target as HTMLElement).closest('button')) return;\r\n    if (router) router.push(`/accounts/${acc.id}`);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'relative',\r\n        marginBottom: 20,\r\n        background: selected ? '#e9f2ff' : '#fff',\r\n        border: selected ? '2px solid #0052cc' : '1.5px solid #e0e4ea',\r\n        boxShadow: selected ? '0 4px 16px rgba(0,82,204,0.10)' : '0 2px 8px rgba(0,0,0,0.08)',\r\n        transition: 'box-shadow 0.25s, border 0.2s, background 0.2s',\r\n        borderRadius: 12,\r\n        cursor: editing ? 'default' : 'pointer',\r\n        transform: selected ? 'scale(1.01)' : 'scale(1)',\r\n      }}\r\n      onClick={handleCardClick}\r\n      onMouseEnter={e => { if (!selected) e.currentTarget.style.boxShadow = '0 6px 24px rgba(0,82,204,0.13)'; }}\r\n      onMouseLeave={e => { if (!selected) e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08)'; }}\r\n    >\r\n      <input type=\"checkbox\" checked={selected} onChange={e => onSelect(e.target.checked)} style={{ position: 'absolute', left: 10, top: 10, zIndex: 2, width: 18, height: 18 }} title=\"Select account\" />\r\n      {/* Action icons row at the top, not overlapping content */}\r\n      <div style={{ display: 'flex', justifyContent: 'flex-end', gap: 10, padding: '10px 16px 0 16px', background: 'transparent', zIndex: 2 }}>\r\n        <button\r\n          onClick={e => { e.stopPropagation(); e.preventDefault(); handleEdit(acc); }}\r\n          style={{\r\n            background: '#f4f5f7',\r\n            border: 'none',\r\n            borderRadius: 8,\r\n            padding: 6,\r\n            cursor: 'pointer',\r\n            fontSize: 20,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: '#0052cc',\r\n            transition: 'background 0.18s, box-shadow 0.18s, transform 0.12s',\r\n            boxShadow: '0 1px 4px rgba(0,82,204,0.07)'\r\n          }}\r\n          title=\"Edit\"\r\n          onMouseEnter={e => e.currentTarget.style.background = '#e9f2ff'}\r\n          onMouseLeave={e => e.currentTarget.style.background = '#f4f5f7'}\r\n          onMouseDown={e => e.currentTarget.style.transform = 'scale(0.93)'}\r\n          onMouseUp={e => e.currentTarget.style.transform = 'scale(1)'}\r\n        ><FiEdit2 /></button>\r\n        <button\r\n          onClick={e => { e.stopPropagation(); e.preventDefault(); if (window.confirm('Are you sure you want to delete this account?')) handleDelete(acc.id); }}\r\n          style={{\r\n            background: '#fff0f0',\r\n            border: 'none',\r\n            borderRadius: 8,\r\n            padding: 6,\r\n            cursor: 'pointer',\r\n            fontSize: 20,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: '#d32f2f',\r\n            transition: 'background 0.18s, box-shadow 0.18s, transform 0.12s',\r\n            boxShadow: '0 1px 4px rgba(211,47,47,0.07)'\r\n          }}\r\n          title=\"Delete\"\r\n          onMouseEnter={e => e.currentTarget.style.background = '#ffeaea'}\r\n          onMouseLeave={e => e.currentTarget.style.background = '#fff0f0'}\r\n          onMouseDown={e => e.currentTarget.style.transform = 'scale(0.93)'}\r\n          onMouseUp={e => e.currentTarget.style.transform = 'scale(1)'}\r\n        ><FiTrash2 /></button>\r\n        <button\r\n          onClick={e => { e.stopPropagation(); e.preventDefault(); onShowActivity(acc.id); }}\r\n          style={{\r\n            background: '#e9f2ff',\r\n            border: 'none',\r\n            borderRadius: 8,\r\n            padding: 6,\r\n            cursor: 'pointer',\r\n            fontSize: 20,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: '#0052cc',\r\n            transition: 'background 0.18s, box-shadow 0.18s, transform 0.12s',\r\n            boxShadow: '0 1px 4px rgba(0,82,204,0.07)'\r\n          }}\r\n          title=\"Show activity log\"\r\n          onMouseEnter={e => e.currentTarget.style.background = '#d6eaff'}\r\n          onMouseLeave={e => e.currentTarget.style.background = '#e9f2ff'}\r\n          onMouseDown={e => e.currentTarget.style.transform = 'scale(0.93)'}\r\n          onMouseUp={e => e.currentTarget.style.transform = 'scale(1)'}\r\n        ><FiActivity /></button>\r\n      </div>\r\n      {/* Card content below icons */}\r\n      <div\r\n        style={{\r\n          background: 'transparent',\r\n          borderRadius: 10,\r\n          padding: 22,\r\n          fontWeight: 600,\r\n          fontSize: 17,\r\n          color: '#222',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 14,\r\n          marginLeft: 28,\r\n          minHeight: 70,\r\n          userSelect: editing ? 'text' : 'none',\r\n        }}\r\n        onDoubleClick={() => setEditing(true)}\r\n      >\r\n        <div style={{\r\n          width: 38,\r\n          height: 38,\r\n          borderRadius: '50%',\r\n          background: '#e9f2ff',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          fontWeight: 700,\r\n          fontSize: 18,\r\n          color: '#0052cc',\r\n          marginRight: 6\r\n        }}>{name?.[0]?.toUpperCase() || '?'}</div>\r\n        <div style={{ flex: 1 }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n            {editing ? (\r\n              <input value={name} onChange={e => setName(e.target.value)} style={{ fontSize: 17, fontWeight: 600, borderRadius: 6, border: '1.5px solid #b3bac5', padding: 4, width: 120 }} />\r\n            ) : (\r\n              <span>{name}</span>\r\n            )}\r\n            {getTags(acc).map((tag: string) => (\r\n              <span key={tag} style={{\r\n                background: tag === 'VIP' ? '#ffe082' : tag === 'Prospect' ? '#b2ebf2' : '#c8e6c9',\r\n                color: tag === 'VIP' ? '#b28704' : tag === 'Prospect' ? '#006064' : '#256029',\r\n                borderRadius: 12,\r\n                padding: '2px 10px',\r\n                fontSize: 12,\r\n                fontWeight: 700,\r\n                marginLeft: 2\r\n              }}>{tag}</span>\r\n            ))}\r\n          </div>\r\n          <div style={{ fontSize: 13, color: '#555', margin: '4px 0 8px 0' }}>Owner: {acc.ownerUserId}</div>\r\n          <div style={{ fontSize: 12, color: '#888' }}>Created: {new Date(acc.createdAt).toLocaleDateString()}</div>\r\n          <div style={{ marginTop: 6 }}>\r\n            {editing ? (\r\n              <textarea value={notes} onChange={e => setNotes(e.target.value)} style={{ fontSize: 13, borderRadius: 6, border: '1.5px solid #b3bac5', padding: 4, width: '100%' }} />\r\n            ) : (\r\n              <span style={{ fontSize: 13, color: '#666' }}>{notes}</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {editing ? (\r\n          <button onClick={() => { setEditing(false); onEdit({ name, notes }); }} style={{ marginLeft: 8, background: '#0052cc', color: '#fff', border: 'none', borderRadius: 6, padding: '6px 14px', fontWeight: 600, cursor: 'pointer', fontSize: 15 }}>Save</button>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport ActivityLog from '../activity/ActivityLog';\r\n// Inline quick add form component (global, at top)\r\n\r\nimport Link from 'next/link';\r\nimport Modal from '../ui/Modal';\r\nimport AccountEditForm from '../forms/AccountEditForm';\r\n\r\n\r\nexport default function AccountsTable({ search = \"\", typeFilter = \"\", ownerFilter = \"\", dateFrom = \"\", dateTo = \"\", sortBy = \"createdAt-desc\", tagFilter = \"\" }: { search?: string, typeFilter?: string, ownerFilter?: string, dateFrom?: string, dateTo?: string, sortBy?: string, tagFilter?: string }) {\r\n  const [activityAccountId, setActivityAccountId] = useState<string|null>(null);\r\n    // Export to CSV\r\n    function handleExportCSV() {\r\n      if (!filteredAccounts.length) return;\r\n      const replacer = (key: string, value: any) => value === null ? '' : value;\r\n      const header = Object.keys(filteredAccounts[0]);\r\n      const csv = [\r\n        header.join(','),\r\n        ...filteredAccounts.map((row: any) =>\r\n          header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(',')\r\n        )\r\n      ].join('\\r\\n');\r\n      const blob = new Blob([csv], { type: 'text/csv' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'accounts.csv';\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n    }\r\n\r\n    // Import from CSV\r\n    function handleImportCSV(e: React.ChangeEvent<HTMLInputElement>) {\r\n      const file = e.target.files?.[0];\r\n      if (!file) return;\r\n      const reader = new FileReader();\r\n      reader.onload = function(event) {\r\n        const text = event.target?.result as string;\r\n        if (!text) return;\r\n        const [headerLine, ...lines] = text.split(/\\r?\\n/).filter(Boolean);\r\n        const headers = headerLine.split(',').map(h => h.replace(/^\"|\"$/g, ''));\r\n        const newAccounts = lines.map(line => {\r\n          const values = line.split(',').map(v => v.replace(/^\"|\"$/g, ''));\r\n          const obj: any = {};\r\n          headers.forEach((h, i) => { obj[h] = values[i]; });\r\n          // Generate id and createdAt if missing\r\n          if (!obj.id) obj.id = Math.random().toString(36).slice(2);\r\n          if (!obj.createdAt) obj.createdAt = new Date().toISOString();\r\n          if (!obj.type) obj.type = 'Client';\r\n          return obj;\r\n        });\r\n        setAccounts(accs => [...newAccounts, ...accs]);\r\n      };\r\n      reader.readAsText(file);\r\n      // Reset input value so same file can be uploaded again if needed\r\n      e.target.value = '';\r\n    }\r\n  const [accounts, setAccounts] = useState<Account[]>([]);\r\n  // (removed duplicate declaration of accountsArray)\r\n  // (removed duplicate declaration of accountsArray)\r\n  const [loading, setLoading] = useState(true);\r\n  const [editModalOpen, setEditModalOpen] = useState(false);\r\n  const [editAccount, setEditAccount] = useState<any>(null);\r\n  const [selected, setSelected] = useState<string[]>([]);\r\n  const [bulkAction, setBulkAction] = useState(\"\");\r\n  const [showBulkBar, setShowBulkBar] = useState(false);\r\n  // Bulk actions handlers\r\n    // Quick add handler\r\n    const handleQuickAdd = (data: any) => {\r\n      setAccounts((accs: Account[]) => [\r\n        { ...data, id: Math.random().toString(36).slice(2), createdAt: new Date().toISOString(), ownerUserId: 'me', type: data.type || 'Client', name: data.name || '', email: data.email || '' },\r\n        ...accs\r\n      ]);\r\n    };\r\n  const handleSelect = (id: string, checked: boolean) => {\r\n    setSelected(sel => checked ? [...sel, id] : sel.filter(sid => sid !== id));\r\n  };\r\n  const handleSelectAll = (ids: string[], checked: boolean) => {\r\n    setSelected(checked ? ids : []);\r\n  };\r\n  const handleBulkDelete = () => {\r\n    setAccounts((accs: Account[]) => accs.filter((a: Account) => !selected.includes(a.id)));\r\n    setSelected([]);\r\n    setShowBulkBar(false);\r\n  };\r\n  // Placeholder for assign/change type\r\n  const handleBulkAssign = () => { setShowBulkBar(false); setSelected([]); };\r\n  const handleBulkType = () => { setShowBulkBar(false); setSelected([]); };\r\n\r\n  useEffect(() => {\r\n    api.get('/api/accounts')\r\n      .then(data => {\r\n        setAccounts(data);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        setLoading(false);\r\n        // Optionally, set an error state here\r\n        console.error('Failed to fetch accounts:', err);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) return (\r\n    <div style={{ display: 'flex', gap: 24, alignItems: 'flex-start', marginTop: 24 }}>\r\n      {[1,2,3].map(i => (\r\n        <div key={i} style={{ flex: 1, background: '#f4f5f7', borderRadius: 8, padding: 16, minWidth: 250 }}>\r\n          <div style={{ height: 32, background: '#e0e4ea', borderRadius: 6, marginBottom: 16, width: '60%', margin: '0 auto 16px auto' }} />\r\n          {[1,2].map(j => (\r\n            <div key={j} style={{ background: '#fff', borderRadius: 8, boxShadow: '0 2px 8px rgba(0,0,0,0.08)', padding: 20, marginBottom: 20, opacity: 0.5 }}>\r\n              <div style={{ height: 18, background: '#e0e4ea', borderRadius: 4, marginBottom: 8, width: '70%' }} />\r\n              <div style={{ height: 12, background: '#e0e4ea', borderRadius: 4, marginBottom: 6, width: '40%' }} />\r\n              <div style={{ height: 10, background: '#e0e4ea', borderRadius: 4, width: '50%' }} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  // Filter accounts by search\r\n  // Demo tags/statuses for each account (mock, or use a.tags if present)\r\n  const getTags = (a: Account) => a.tags || a.status ? [a.status!] : (a.id && parseInt(a.id, 36) % 3 === 0 ? ['VIP'] : parseInt(a.id, 36) % 3 === 1 ? ['Prospect'] : ['Active']);\r\n  const accountsArray: Account[] = Array.isArray(accounts) ? accounts : [];\r\n  let filteredAccounts = accountsArray.filter((a: any) => {\r\n    const q = search.toLowerCase();\r\n    const matchesSearch = (\r\n      a.name?.toLowerCase().includes(q) ||\r\n      a.email?.toLowerCase().includes(q) ||\r\n      a.ownerUserId?.toLowerCase().includes(q)\r\n    );\r\n    const matchesType = !typeFilter || a.type === typeFilter;\r\n    const matchesOwner = !ownerFilter || a.ownerUserId === ownerFilter;\r\n    let matchesDate = true;\r\n    if (dateFrom) {\r\n      matchesDate = matchesDate && new Date(a.createdAt) >= new Date(dateFrom);\r\n    }\r\n    if (dateTo) {\r\n      matchesDate = matchesDate && new Date(a.createdAt) <= new Date(dateTo);\r\n    }\r\n    const tags = getTags(a);\r\n    const matchesTag = !tagFilter || tags.includes(tagFilter);\r\n    return matchesSearch && matchesType && matchesOwner && matchesDate && matchesTag;\r\n  });\r\n\r\n  // Sorting logic\r\n  const [sortField, sortDir] = sortBy.split('-');\r\n  filteredAccounts = filteredAccounts.slice().sort((a: any, b: any) => {\r\n    let aVal = a[sortField];\r\n    let bVal = b[sortField];\r\n    if (sortField === 'createdAt') {\r\n      aVal = new Date(aVal);\r\n      bVal = new Date(bVal);\r\n    } else {\r\n      aVal = (aVal || '').toString().toLowerCase();\r\n      bVal = (bVal || '').toString().toLowerCase();\r\n    }\r\n    if (aVal < bVal) return sortDir === 'asc' ? -1 : 1;\r\n    if (aVal > bVal) return sortDir === 'asc' ? 1 : -1;\r\n    return 0;\r\n  });\r\n\r\n  // Collect all tags for filter dropdown\r\n  const allTags = Array.from(new Set((Array.isArray(accounts) ? accounts : []).flatMap(getTags)));\r\n\r\n\r\n  // Only show columns that have accounts (as before)\r\n  // (removed duplicate declaration of accountsArray)\r\n  const types = Array.from(new Set(filteredAccounts.map((a: Account) => a.type)));\r\n  const grouped = types.map(type => ({\r\n    type,\r\n    accounts: filteredAccounts.filter((a: Account) => a.type === type)\r\n  }));\r\n\r\n  const handleEdit = (account: any) => {\r\n    setEditAccount(account);\r\n    setEditModalOpen(true);\r\n  };\r\n  const handleEditSubmit = (data: any) => {\r\n    // TODO: Connect to backend API to update account\r\n    setEditModalOpen(false);\r\n    setEditAccount(null);\r\n    // Optionally refresh table data here\r\n  };\r\n  const handleDelete = (accountId: string) => {\r\n    // TODO: Connect to backend API to delete account\r\n    setAccounts(accs => accs.filter((a: any) => a.id !== accountId));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Export/Import CSV buttons moved to filters section in page.tsx */}\r\n      {selected.length > 0 && (\r\n        <div style={{ position: 'sticky', top: 0, zIndex: 10, background: '#f4f5f7', borderBottom: '1.5px solid #b3bac5', padding: 12, display: 'flex', alignItems: 'center', gap: 16, marginBottom: 12 }}>\r\n          <span style={{ fontWeight: 600 }}>{selected.length} selected</span>\r\n          <button onClick={handleBulkDelete} style={{ background: '#fff0f0', color: '#d32f2f', border: '1.5px solid #d32f2f', borderRadius: 6, padding: '6px 16px', fontWeight: 600, cursor: 'pointer' }}>Delete</button>\r\n          <button onClick={handleBulkAssign} style={{ background: '#e9f2ff', color: '#0052cc', border: '1.5px solid #0052cc', borderRadius: 6, padding: '6px 16px', fontWeight: 600, cursor: 'pointer' }}>Assign Owner</button>\r\n          <button onClick={handleBulkType} style={{ background: '#f4f5f7', color: '#222', border: '1.5px solid #b3bac5', borderRadius: 6, padding: '6px 16px', fontWeight: 600, cursor: 'pointer' }}>Change Type</button>\r\n          <button onClick={() => setSelected([])} style={{ marginLeft: 8, background: '#fff', color: '#0052cc', border: '1.5px solid #b3bac5', borderRadius: 6, padding: '6px 16px', fontWeight: 600, cursor: 'pointer' }}>Clear</button>\r\n        </div>\r\n      )}\r\n      {/* Removed duplicate Export/Import CSV buttons below filters */}\r\n      <div style={{ display: 'flex', gap: 24, alignItems: 'flex-start', marginTop: 24 }}>\r\n        {grouped.map(col => {\r\n          const allIds = col.accounts.map((acc: any) => acc.id);\r\n          const allSelected = allIds.every(id => selected.includes(id)) && allIds.length > 0;\r\n          return (\r\n            <div key={col.type} style={{\r\n              flex: 1,\r\n              background: '#f4f5f7',\r\n              borderRadius: 12,\r\n              padding: 16,\r\n              minWidth: 250,\r\n              boxShadow: '0 2px 12px rgba(0,0,0,0.06)',\r\n              transition: 'box-shadow 0.25s, background 0.2s',\r\n              position: 'relative',\r\n              overflow: 'hidden',\r\n              minHeight: 400\r\n            }}>\r\n              <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: 18 }}>\r\n                <div style={{\r\n                  textAlign: 'center',\r\n                  fontWeight: 700,\r\n                  fontSize: 18,\r\n                  letterSpacing: 1,\r\n                  color: '#0052cc',\r\n                  textTransform: 'uppercase',\r\n                  background: '#e9f2ff',\r\n                  borderRadius: 6,\r\n                  padding: '8px 0',\r\n                  boxShadow: '0 1px 4px rgba(0,0,0,0.04)',\r\n                  flex: 1\r\n                }}>{col.type}</div>\r\n                <input type=\"checkbox\" checked={allSelected} onChange={e => handleSelectAll(allIds, e.target.checked)} style={{ marginLeft: 8, width: 18, height: 18 }} title=\"Select all in column\" />\r\n              </div>\r\n              {col.accounts.length === 0 && (\r\n                <div style={{ color: '#bbb', textAlign: 'center', fontStyle: 'italic', margin: '32px 0', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 8, opacity: 0.8, transition: 'opacity 0.2s' }}>\r\n                  <span style={{ fontSize: 38, opacity: 0.5 }}>üóÇÔ∏è</span>\r\n                  <span>No accounts</span>\r\n                </div>\r\n              )}\r\n              {col.accounts.map((acc: any) => (\r\n                <InlineEditableAccountCard\r\n                  key={acc.id}\r\n                  acc={acc}\r\n                  selected={selected.includes(acc.id)}\r\n                  onSelect={checked => handleSelect(acc.id, checked)}\r\n                  onEdit={patch => setAccounts(accs => accs.map(a => a.id === acc.id ? { ...a, ...patch } : a))}\r\n                  getTags={getTags}\r\n                  handleEdit={handleEdit}\r\n                  handleDelete={handleDelete}\r\n                  onShowActivity={setActivityAccountId}\r\n                />\r\n              ))}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <Modal open={editModalOpen} onClose={() => setEditModalOpen(false)} title=\"Edit Account\">\r\n        {editAccount && <AccountEditForm initialData={editAccount} onSubmit={handleEditSubmit} onCancel={() => setEditModalOpen(false)} />}\r\n      </Modal>\r\n      {activityAccountId && (\r\n        <ActivityLog accountId={activityAccountId} onClose={() => setActivityAccountId(null)} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1937, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/components/forms/AccountForm.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from 'react';\r\n\r\nexport default function AccountForm({ onSubmit, initialData }: {\r\n  onSubmit: (data: any) => void;\r\n  initialData?: any;\r\n}) {\r\n  const [name, setName] = useState(initialData?.name || '');\r\n  const [type, setType] = useState(initialData?.type || 'Client');\r\n  const [address, setAddress] = useState(initialData?.address || '');\r\n  const [phone, setPhone] = useState(initialData?.phone || '');\r\n  const [email, setEmail] = useState(initialData?.email || '');\r\n  const [notes, setNotes] = useState(initialData?.notes || '');\r\n\r\n  return (\r\n    <form onSubmit={e => { e.preventDefault(); onSubmit({ name, type, address, phone, email, notes }); }}>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Name</label><br />\r\n        <input value={name} onChange={e => setName(e.target.value)} required style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Type</label><br />\r\n        <select value={type} onChange={e => setType(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }}>\r\n          <option value=\"Client\">Client</option>\r\n          <option value=\"Partner\">Partner</option>\r\n          <option value=\"Potential Client\">Potential Client</option>\r\n        </select>\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Address</label><br />\r\n        <input value={address} onChange={e => setAddress(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Phone</label><br />\r\n        <input value={phone} onChange={e => setPhone(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Email</label><br />\r\n        <input type=\"email\" value={email} onChange={e => setEmail(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label>Notes</label><br />\r\n        <textarea value={notes} onChange={e => setNotes(e.target.value)} style={{ width: '100%', padding: 8, borderRadius: 4, border: '1px solid #ccc' }} />\r\n      </div>\r\n      <button type=\"submit\" style={{ background: '#0052cc', color: '#fff', border: 'none', borderRadius: 6, padding: '8px 20px', fontWeight: 600, cursor: 'pointer' }}>\r\n        Save\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2253, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/app/%28app%29/accounts/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport AccountsTable from '../../../components/tables/AccountsTable';\r\nimport Modal from '../../../components/ui/Modal';\r\nimport AccountForm from '../../../components/forms/AccountForm';\r\nimport React, { useState, useEffect, useRef } from 'react';\r\n\r\n\r\n// Demo tags for filter dropdown (should be fetched from API in real app)\r\nconst DEMO_TAGS = ['VIP', 'Prospect', 'Active'];\r\n\r\n\r\n\r\n\r\nexport default function AccountsPage() {\r\n  const tableRef = useRef<any>(null);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [typeFilter, setTypeFilter] = useState('');\r\n  const [ownerFilter, setOwnerFilter] = useState('');\r\n  const [dateFrom, setDateFrom] = useState(\"\");\r\n  const [dateTo, setDateTo] = useState(\"\");\r\n  const [owners, setOwners] = useState<string[]>([]);\r\n  const [types, setTypes] = useState<string[]>([]);\r\n  const [sortBy, setSortBy] = useState('createdAt-desc');\r\n  const [tagFilter, setTagFilter] = useState('');\r\n\r\n  // Fetch unique owners/types for filters (simulate API or get from /api/accounts)\r\n  useEffect(() => {\r\n    fetch('/api/accounts')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        const arr = Array.isArray(data) ? data : [];\r\n        setOwners(Array.from(new Set(arr.map((a: any) => a.ownerUserId).filter(Boolean))));\r\n        setTypes(Array.from(new Set(arr.map((a: any) => a.type).filter(Boolean))));\r\n      });\r\n  }, []);\r\n\r\n  // Fetch all users and use the first user's id for account creation\r\n  const [userId, setUserId] = useState<string | null>(null);\r\n  useEffect(() => {\r\n    fetch('/api/users')\r\n      .then(res => res.json())\r\n      .then(users => {\r\n        if (users && users.length > 0) {\r\n          setUserId(users[0].id);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const handleCreate = async (data: any) => {\r\n    // Map UI type to backend enum\r\n    const typeMap: Record<string, string> = {\r\n      'Client': 'CLIENT',\r\n      'Partner': 'PARTNER',\r\n      'Potential Client': 'POTENTIAL_CLIENT',\r\n    };\r\n    try {\r\n      const payload = {\r\n        ...data,\r\n        type: typeMap[data.type] || 'CLIENT',\r\n        ownerUserId: userId || 'REPLACE_WITH_USER_ID',\r\n        createdByUserId: userId || 'REPLACE_WITH_USER_ID',\r\n      };\r\n      const res = await fetch('/api/accounts', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      if (!res.ok) throw new Error('Failed to create account');\r\n      // Optionally refresh table data here (could trigger a state update or reload)\r\n    } catch (err) {\r\n      alert('Error creating account: ' + (err as Error).message);\r\n    } finally {\r\n      setModalOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      {/* Blue header only behind title/subtitle */}\r\n      <div className=\"page-section-blue\" style={{ padding: '32px 32px 56px 32px', borderTopLeftRadius: 18, borderTopRightRadius: 18, minHeight: 90 }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n          <div>\r\n            <h1 style={{ fontSize: 28, fontWeight: 700, margin: 0, color: '#222e3a' }}>Accounts</h1>\r\n            <div style={{ color: '#4a5fa7', fontSize: 15, marginTop: 2 }}>Manage all your organizations and clients</div>\r\n          </div>\r\n          <button onClick={() => setModalOpen(true)} style={{ background: '#0052cc', color: '#fff', border: 'none', borderRadius: 6, padding: '8px 20px', fontWeight: 600, cursor: 'pointer', boxShadow: '0 2px 8px rgba(0,82,204,0.10)' }}>+ New Account</button>\r\n        </div>\r\n      </div>\r\n      {/* Filters and actions in a white card overlapping the header */}\r\n      <div style={{\r\n        position: 'relative',\r\n        marginTop: -36,\r\n        marginLeft: 32,\r\n        marginRight: 32,\r\n        zIndex: 2,\r\n        background: '#fff',\r\n        borderRadius: 12,\r\n        boxShadow: '0 4px 24px rgba(80,120,200,0.10)',\r\n        padding: 20,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: 18,\r\n        alignItems: 'stretch',\r\n        minHeight: 0\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 16, flexWrap: 'wrap' }}>\r\n          <select value={tagFilter} onChange={e => setTagFilter(e.target.value)} style={{ padding: 10, borderRadius: 6, border: '1.5px solid #b3bac5', background: '#fff', fontSize: 15 }}>\r\n            <option value=\"\">All Status/Tags</option>\r\n            {DEMO_TAGS.map(tag => <option key={tag} value={tag}>{tag}</option>)}\r\n          </select>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search name, email, owner...\"\r\n            value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n            style={{ padding: 10, borderRadius: 6, border: '1.5px solid #b3bac5', width: 220, fontSize: 15, background: '#fff' }}\r\n          />\r\n          <select value={typeFilter} onChange={e => setTypeFilter(e.target.value)} style={{ padding: 10, borderRadius: 6, border: '1.5px solid #b3bac5', background: '#fff', fontSize: 15 }}>\r\n            <option value=\"\">All Types</option>\r\n            {types.map(type => <option key={type} value={type}>{type}</option>)}\r\n          </select>\r\n          <select value={ownerFilter} onChange={e => setOwnerFilter(e.target.value)} style={{ padding: 10, borderRadius: 6, border: '1.5px solid #b3bac5', background: '#fff', fontSize: 15 }}>\r\n            <option value=\"\">All Owners</option>\r\n            {owners.map(owner => <option key={owner} value={owner}>{owner}</option>)}\r\n          </select>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n            <label style={{ fontSize: 14, color: '#555' }}>Created:</label>\r\n            <input type=\"date\" value={dateFrom} onChange={e => setDateFrom(e.target.value)} style={{ padding: 7, borderRadius: 6, border: '1.5px solid #b3bac5', background: '#fff', fontSize: 14 }} />\r\n            <span style={{ fontSize: 14, color: '#888' }}>to</span>\r\n            <input type=\"date\" value={dateTo} onChange={e => setDateTo(e.target.value)} style={{ padding: 7, borderRadius: 6, border: '1.5px solid #b3bac5', background: '#fff', fontSize: 14 }} />\r\n          </div>\r\n          <button onClick={() => { setSearch(\"\"); setTypeFilter(\"\"); setOwnerFilter(\"\"); setDateFrom(\"\"); setDateTo(\"\"); }} style={{ marginLeft: 8, background: '#fff', color: '#0052cc', border: '1.5px solid #b3bac5', borderRadius: 6, padding: '8px 16px', fontWeight: 600, cursor: 'pointer', fontSize: 15 }}>Clear Filters</button>\r\n          <select value={sortBy} onChange={e => setSortBy(e.target.value)} style={{ marginLeft: 8, padding: 10, borderRadius: 6, border: '1.5px solid #b3bac5', background: '#fff', fontSize: 15 }}>\r\n            <option value=\"createdAt-desc\">Sort: Newest</option>\r\n            <option value=\"createdAt-asc\">Sort: Oldest</option>\r\n            <option value=\"name-asc\">Sort: Name A-Z</option>\r\n            <option value=\"name-desc\">Sort: Name Z-A</option>\r\n            <option value=\"type-asc\">Sort: Type A-Z</option>\r\n            <option value=\"type-desc\">Sort: Type Z-A</option>\r\n            <option value=\"ownerUserId-asc\">Sort: Owner A-Z</option>\r\n            <option value=\"ownerUserId-desc\">Sort: Owner Z-A</option>\r\n          </select>\r\n        </div>\r\n        <div style={{ display: 'flex', gap: 12, alignItems: 'center', marginTop: 2 }}>\r\n          <button onClick={() => tableRef.current?.handleExportCSV?.()} style={{ background: '#fff', color: '#0052cc', border: '1.5px solid #0052cc', borderRadius: 6, padding: '7px 18px', fontWeight: 600, cursor: 'pointer', height: 40 }}>Export CSV</button>\r\n          <label style={{ background: '#fff', color: '#0052cc', border: '1.5px solid #0052cc', borderRadius: 6, padding: '7px 18px', fontWeight: 600, cursor: 'pointer', height: 40, display: 'flex', alignItems: 'center' }}>\r\n            Import CSV\r\n            <input type=\"file\" accept=\".csv\" onChange={e => tableRef.current?.handleImportCSV?.(e)} style={{ display: 'none' }} />\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div className=\"page-section-white\" style={{ background: '#fff', borderBottomLeftRadius: 18, borderBottomRightRadius: 18, padding: 24, marginTop: 32 }}>\r\n        <AccountsTable search={search} typeFilter={typeFilter} ownerFilter={ownerFilter} dateFrom={dateFrom} dateTo={dateTo} sortBy={sortBy} tagFilter={tagFilter} />\r\n      </div>\r\n      <Modal open={modalOpen} onClose={() => setModalOpen(false)} title=\"New Account\">\r\n        <AccountForm onSubmit={handleCreate} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}