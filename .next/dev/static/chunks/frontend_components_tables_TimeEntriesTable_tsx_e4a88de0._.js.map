{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Desktop/CRM/frontend/components/tables/TimeEntriesTable.tsx"],"sourcesContent":["\r\n\"use client\";\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface TimeEntry {\r\n  id: string;\r\n  user?: { id: string; name: string };\r\n  userId?: string;\r\n  accountId?: string;\r\n  taskId?: string;\r\n  task?: { id: string; title: string };\r\n  startedAt: string;\r\n  endedAt: string;\r\n  durationMinutes: number;\r\n  description?: string;\r\n}\r\n\r\ninterface TimeEntriesTableProps {\r\n  entries?: TimeEntry[];\r\n  showUserColumn?: boolean;\r\n}\r\n\r\nexport default function TimeEntriesTable({ entries, showUserColumn }: TimeEntriesTableProps) {\r\n  const [localEntries, setLocalEntries] = useState<TimeEntry[]>(entries || []);\r\n  const [loading, setLoading] = useState(!entries);\r\n\r\n  useEffect(() => {\r\n    if (!entries) {\r\n      fetch('/api/time-entries')\r\n        .then(async res => {\r\n          try {\r\n            const data = await res.json();\r\n            setLocalEntries(Array.isArray(data) ? data : []);\r\n          } catch (e) {\r\n            setLocalEntries([]);\r\n          }\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [entries]);\r\n\r\n  if (loading) return <div>Loading time entries...</div>;\r\n\r\n  return (\r\n    <table className=\"data-table\">\r\n      <thead>\r\n        <tr>\r\n          {showUserColumn && <th>User</th>}\r\n          <th>Account</th>\r\n          <th>Task</th>\r\n          <th>Start</th>\r\n          <th>End</th>\r\n          <th>Duration (min)</th>\r\n          <th>Description</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {localEntries.map((e: TimeEntry) => (\r\n          <tr key={e.id}>\r\n            {showUserColumn && <td>{e.user?.name || e.userId}</td>}\r\n            <td>{e.accountId}</td>\r\n            <td>{e.task?.title || e.taskId}</td>\r\n            <td>{new Date(e.startedAt).toLocaleString()}</td>\r\n            <td>{new Date(e.endedAt).toLocaleString()}</td>\r\n            <td>{e.durationMinutes}</td>\r\n            <td>{e.description}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AADA;;AAqBe,SAAS,iBAAiB,EAAE,OAAO,EAAE,cAAc,EAAyB;;IACzF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qLAAQ,EAAc,WAAW,EAAE;IAC3E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qLAAQ,EAAC,CAAC;IAExC,IAAA,sLAAS;sCAAC;YACR,IAAI,CAAC,SAAS;gBACZ,MAAM,qBACH,IAAI;kDAAC,OAAM;wBACV,IAAI;4BACF,MAAM,OAAO,MAAM,IAAI,IAAI;4BAC3B,gBAAgB,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;wBACjD,EAAE,OAAO,GAAG;4BACV,gBAAgB,EAAE;wBACpB;wBACA,WAAW;oBACb;;YACJ;QACF;qCAAG;QAAC;KAAQ;IAEZ,IAAI,SAAS,qBAAO,yMAAC;kBAAI;;;;;;IAEzB,qBACE,yMAAC;QAAM,WAAU;;0BACf,yMAAC;0BACC,cAAA,yMAAC;;wBACE,gCAAkB,yMAAC;sCAAG;;;;;;sCACvB,yMAAC;sCAAG;;;;;;sCACJ,yMAAC;sCAAG;;;;;;sCACJ,yMAAC;sCAAG;;;;;;sCACJ,yMAAC;sCAAG;;;;;;sCACJ,yMAAC;sCAAG;;;;;;sCACJ,yMAAC;sCAAG;;;;;;;;;;;;;;;;;0BAGR,yMAAC;0BACE,aAAa,GAAG,CAAC,CAAC,kBACjB,yMAAC;;4BACE,gCAAkB,yMAAC;0CAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM;;;;;;0CAChD,yMAAC;0CAAI,EAAE,SAAS;;;;;;0CAChB,yMAAC;0CAAI,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM;;;;;;0CAC9B,yMAAC;0CAAI,IAAI,KAAK,EAAE,SAAS,EAAE,cAAc;;;;;;0CACzC,yMAAC;0CAAI,IAAI,KAAK,EAAE,OAAO,EAAE,cAAc;;;;;;0CACvC,yMAAC;0CAAI,EAAE,eAAe;;;;;;0CACtB,yMAAC;0CAAI,EAAE,WAAW;;;;;;;uBAPX,EAAE,EAAE;;;;;;;;;;;;;;;;AAavB;GAjDwB;KAAA"}}]
}